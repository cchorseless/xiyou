function IsCanAttackTarget(attacker,target,x,y)
	if ( IsUnitExist(attacker) == false ) {
		return false
	}
	if ( target == null ) {
		target = attacker.GetAttackTarget()
		if ( IsUnitExist(target) == false ) {
			return false
		}
	}
	let team_id = attacker.at_team_id || attacker.team_id
	if ( x == null ) {
		x = attacker.x
	}
	if ( y == null ) {
		y = attacker.y
	}
	if ( x && y && target.x && target.y ) {
		let p = XY2Vector(x,y,team_id)
		let p2 = XY2Vector(target.x,target.y,team_id)
		if ( target.IsInvisible() == false && target.HasModifier('modifier_skeleton_king_reincarnation_scepter_active') == false && (p - p2).Length2D() < attacker.Script_GetAttackRange() + target.GetHullRadius() + attacker.GetHullRadius() ) {
			return true
		} else {
			return false
		}
	} else {
		return false
	}
}