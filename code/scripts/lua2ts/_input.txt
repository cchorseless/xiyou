function IsCanAttackTarget(attacker,target,x,y)
	if IsUnitExist(attacker) == false then
		return false
	end
	if target == nil then
		target = attacker:GetAttackTarget()
		if IsUnitExist(target) == false then
			return false
		end
	end
	local team_id = attacker.at_team_id or attacker.team_id
	if x == nil then
		x = attacker.x
	end
	if y == nil then
		y = attacker.y
	end
	if x and y and target.x and target.y then
		local p = XY2Vector(x,y,team_id)
		local p2 = XY2Vector(target.x,target.y,team_id)
		if target:IsInvisible() == false and target:HasModifier('modifier_skeleton_king_reincarnation_scepter_active') == false and (p - p2):Length2D() < attacker:Script_GetAttackRange() + target:GetHullRadius() + attacker:GetHullRadius() then
			return true
		else
			return false
		end
	else
		return false
	end
end